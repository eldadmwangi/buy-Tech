[debug] [2021-09-08T20:37:52.309Z] ----------------------------------------------------------------------
[debug] [2021-09-08T20:37:52.312Z] Command:       /home/eldad/.nvm/versions/node/v15.9.0/bin/node /usr/bin/firebase emulators:start
[debug] [2021-09-08T20:37:52.313Z] CLI Version:   9.16.6
[debug] [2021-09-08T20:37:52.313Z] Platform:      linux
[debug] [2021-09-08T20:37:52.313Z] Node Version:  v15.9.0
[debug] [2021-09-08T20:37:52.314Z] Time:          Wed Sep 08 2021 23:37:52 GMT+0300 (East Africa Time)
[debug] [2021-09-08T20:37:52.314Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-09-08T20:37:52.395Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-09-08T20:37:52.395Z] > authorizing via signed-in user (eldadmwangi@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2021-09-08T20:37:52.432Z] [hub] writing locator at /tmp/hub-buy-tech-ac05c.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[warn] ⚠  Your requested "node" version "14" doesn't match your global version "15" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"14\" doesn't match your global version \"15\""}}
[debug] [2021-09-08T20:37:52.539Z] defaultcredentials: writing to file /home/eldad/.config/firebase/eldadmwangi_gmail_com_application_default_credentials.json
[debug] [2021-09-08T20:37:52.542Z] Setting GAC to /home/eldad/.config/firebase/eldadmwangi_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /home/eldad/.config/firebase/eldadmwangi_gmail_com_application_default_credentials.json"}}
[debug] [2021-09-08T20:37:52.545Z] > refreshing access token with scopes: []
[debug] [2021-09-08T20:37:52.547Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-09-08T20:37:52.948Z] <<< HTTP RESPONSE 200 {"expires":"Mon, 01 Jan 1990 00:00:00 GMT","pragma":"no-cache","cache-control":"no-cache, no-store, max-age=0, must-revalidate","date":"Wed, 08 Sep 2021 20:37:52 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-09-08T20:37:53.044Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/buy-tech-ac05c/adminSdkConfig [none]
[debug] [2021-09-08T20:37:53.843Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/buy-tech-ac05c/adminSdkConfig 200
[debug] [2021-09-08T20:37:53.843Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/buy-tech-ac05c/adminSdkConfig {"projectId":"buy-tech-ac05c","storageBucket":"buy-tech-ac05c.appspot.com"}
[debug] [2021-09-08T20:37:53.912Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/buy-tech-ac05c/sites 
[debug] [2021-09-08T20:37:55.837Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/buy-tech-ac05c/sites 200
[debug] [2021-09-08T20:37:55.837Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/buy-tech-ac05c/sites {"sites":[{"name":"projects/695330045391/sites/buy-tech-ac05c","defaultUrl":"https://buy-tech-ac05c.web.app","appId":"1:695330045391:web:796cafcaf3e6cd83e8a6ba","type":"DEFAULT_SITE"}]}
[debug] [2021-09-08T20:37:55.838Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/buy-tech-ac05c/webApps/1:695330045391:web:796cafcaf3e6cd83e8a6ba/config [none]
[debug] [2021-09-08T20:37:56.972Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/buy-tech-ac05c/webApps/1:695330045391:web:796cafcaf3e6cd83e8a6ba/config 200
[debug] [2021-09-08T20:37:56.972Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/buy-tech-ac05c/webApps/1:695330045391:web:796cafcaf3e6cd83e8a6ba/config {"projectId":"buy-tech-ac05c","appId":"1:695330045391:web:796cafcaf3e6cd83e8a6ba","storageBucket":"buy-tech-ac05c.appspot.com","apiKey":"AIzaSyCQX5i5o2xjrFjzRjFwyQ7JHEPQXlQox0A","authDomain":"buy-tech-ac05c.firebaseapp.com","messagingSenderId":"695330045391","measurementId":"G-V4V87GQDMK"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-09-08T20:37:57.059Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-09-08T20:37:57.059Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-09-08T20:37:57.060Z] Starting Emulator UI with command {"binary":"node","args":["/home/eldad/.cache/firebase/emulators/ui-v1.6.2/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/home/eldad/.cache/firebase/emulators/ui-v1.6.2/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-09-08T20:37:57.242Z] Web / API server started at localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4000\n"}}
[info] i  functions: Watching "/home/eldad/Documents/buy-tech/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/home/eldad/Documents/buy-tech/functions\" for Cloud Functions..."}}
[debug] [2021-09-08T20:37:57.357Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-09-08T20:37:57.358Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-09-08T20:37:57.358Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-09-08T20:37:57.359Z] [worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: Assigning socketPath: /tmp/fire_emu_20504.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: Assigning socketPath: /tmp/fire_emu_20504.sock"}}
[debug] [2021-09-08T20:37:57.360Z] [worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: BUSY"}}
[debug] [2021-09-08T20:37:57.705Z] [runtime-status] [20504] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:37:57.708Z] [runtime-status] [20504] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:37:57.712Z] [runtime-status] [20504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:37:57.718Z] [runtime-status] [20504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:37:57.720Z] [runtime-status] [20504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:37:57.723Z] [runtime-status] [20504] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:37:57.725Z] [runtime-status] [20504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:37:57.782Z] [runtime-status] [20504] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:37:57.782Z] [runtime-status] [20504] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:37:57.784Z] [runtime-status] [20504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:37:57.786Z] [runtime-status] [20504] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:37:57.786Z] [runtime-status] [20504] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:37:57.787Z] [runtime-status] [20504] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20504] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5001/buy-tech-ac05c/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/buy-tech-ac05c/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-09-08T20:37:57.906Z] [worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: IDLE"}}
[debug] [2021-09-08T20:38:24.145Z] File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers"}}
[debug] [2021-09-08T20:38:25.147Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-09-08T20:38:25.148Z] [worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: FINISHING"}}
[debug] [2021-09-08T20:38:25.164Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-09-08T20:38:25.164Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-09-08T20:38:25.164Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-09-08T20:38:25.165Z] [worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: Assigning socketPath: /tmp/fire_emu_20574.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: Assigning socketPath: /tmp/fire_emu_20574.sock"}}
[debug] [2021-09-08T20:38:25.165Z] [worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: BUSY"}}
[debug] [2021-09-08T20:38:25.168Z] [worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: exited"}}
[debug] [2021-09-08T20:38:25.168Z] [worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6bdcd221-4b77-4d32-aca5-dd1271ab2000]: FINISHED"}}
[debug] [2021-09-08T20:38:25.507Z] [runtime-status] [20574] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:38:25.511Z] [runtime-status] [20574] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:38:25.515Z] [runtime-status] [20574] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:38:25.521Z] [runtime-status] [20574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:38:25.524Z] [runtime-status] [20574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:38:25.528Z] [runtime-status] [20574] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:38:25.530Z] [runtime-status] [20574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:38:25.584Z] [runtime-status] [20574] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:38:25.584Z] [runtime-status] [20574] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:38:25.586Z] [runtime-status] [20574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:38:25.589Z] [runtime-status] [20574] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:38:25.590Z] [runtime-status] [20574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:38:25.590Z] [runtime-status] [20574] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [20574] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:38:25.696Z] [worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: IDLE"}}
[debug] [2021-09-08T20:39:00.443Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:39:00.444Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:39:00.447Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=136500 --> us-central1-api
[debug] [2021-09-08T20:39:00.448Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-09-08T20:39:00.459Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:39:00.460Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:39:00.460Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:39:00.461Z] [worker-us-central1-api-42d93378-af8a-47f9-adc4-6cec5c83597f]: Assigning socketPath: /tmp/fire_emu_20635.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-42d93378-af8a-47f9-adc4-6cec5c83597f]: Assigning socketPath: /tmp/fire_emu_20635.sock"}}
[debug] [2021-09-08T20:39:00.461Z] [worker-us-central1-api-42d93378-af8a-47f9-adc4-6cec5c83597f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-42d93378-af8a-47f9-adc4-6cec5c83597f]: BUSY"}}
[debug] [2021-09-08T20:39:00.805Z] [runtime-status] [20635] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:39:00.809Z] [runtime-status] [20635] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:39:00.813Z] [runtime-status] [20635] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:00.818Z] [runtime-status] [20635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:00.821Z] [runtime-status] [20635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:00.825Z] [runtime-status] [20635] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:39:00.827Z] [runtime-status] [20635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:00.881Z] [runtime-status] [20635] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:39:00.881Z] [runtime-status] [20635] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:39:00.882Z] [runtime-status] [20635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:00.885Z] [runtime-status] [20635] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:00.886Z] [runtime-status] [20635] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:00.887Z] [runtime-status] [20635] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:39:00.993Z] [runtime-status] [20635] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:39:00.995Z] [runtime-status] [20635] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:39:00.998Z] [runtime-status] [20635] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:39:01.000Z] [runtime-status] [20635] Attempting to listen to socketPath: /tmp/fire_emu_20635.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Attempting to listen to socketPath: /tmp/fire_emu_20635.sock"}}
[debug] [2021-09-08T20:39:01.006Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:39:01.011Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=136500, mapping to path=/payments/create?total=136500 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=136500, mapping to path=/payments/create?total=136500"}}
[debug] [2021-09-08T20:39:01.030Z] [runtime-status] [20635] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Ephemeral server handling POST request"}}
[info] >  payment request recieved 136500 {"user":"payment request recieved 136500","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 136500"}}
[debug] [2021-09-08T20:39:01.051Z] [runtime-status] [20635] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20635] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:39:03 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:39:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:39:03 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_ZyYhS7dph42Tzq', {"user":"      'request-id': 'req_ZyYhS7dph42Tzq',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_ZyYhS7dph42Tzq',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_ZyYhS7dph42Tzq' {"user":"    requestId: 'req_ZyYhS7dph42Tzq'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_ZyYhS7dph42Tzq'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:39:03 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:39:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:39:03 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_ZyYhS7dph42Tzq', {"user":"    'request-id': 'req_ZyYhS7dph42Tzq',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_ZyYhS7dph42Tzq',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_ZyYhS7dph42Tzq', {"user":"  requestId: 'req_ZyYhS7dph42Tzq',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_ZyYhS7dph42Tzq',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:39:03.879Z] [worker-us-central1-api-42d93378-af8a-47f9-adc4-6cec5c83597f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-42d93378-af8a-47f9-adc4-6cec5c83597f]: exited"}}
[debug] [2021-09-08T20:39:03.880Z] [worker-us-central1-api-42d93378-af8a-47f9-adc4-6cec5c83597f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-42d93378-af8a-47f9-adc4-6cec5c83597f]: FINISHED"}}
[debug] [2021-09-08T20:39:03.880Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:39:11.436Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:39:11.437Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:39:11.437Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-08T20:39:11.437Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:39:11.448Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:39:11.448Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:39:11.448Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:39:11.449Z] [worker-us-central1-api-485b0219-ce04-4604-963d-a4e4487b7d94]: Assigning socketPath: /tmp/fire_emu_20705.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-485b0219-ce04-4604-963d-a4e4487b7d94]: Assigning socketPath: /tmp/fire_emu_20705.sock"}}
[debug] [2021-09-08T20:39:11.449Z] [worker-us-central1-api-485b0219-ce04-4604-963d-a4e4487b7d94]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-485b0219-ce04-4604-963d-a4e4487b7d94]: BUSY"}}
[debug] [2021-09-08T20:39:12.053Z] [runtime-status] [20705] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:39:12.060Z] [runtime-status] [20705] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:39:12.070Z] [runtime-status] [20705] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:12.071Z] [runtime-status] [20705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:12.071Z] [runtime-status] [20705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:12.078Z] [runtime-status] [20705] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:39:12.084Z] [runtime-status] [20705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:12.147Z] [runtime-status] [20705] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:39:12.148Z] [runtime-status] [20705] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:39:12.150Z] [runtime-status] [20705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:12.153Z] [runtime-status] [20705] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:12.154Z] [runtime-status] [20705] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:39:12.154Z] [runtime-status] [20705] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:39:12.319Z] [runtime-status] [20705] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:39:12.323Z] [runtime-status] [20705] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:39:12.324Z] [runtime-status] [20705] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:39:12.331Z] [runtime-status] [20705] Attempting to listen to socketPath: /tmp/fire_emu_20705.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Attempting to listen to socketPath: /tmp/fire_emu_20705.sock"}}
[debug] [2021-09-08T20:39:12.336Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:39:12.338Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-08T20:39:12.355Z] [runtime-status] [20705] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Ephemeral server handling POST request"}}
[info] >  payment request recieved 0 {"user":"payment request recieved 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 0"}}
[debug] [2021-09-08T20:39:12.383Z] [runtime-status] [20705] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20705] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:39:13 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:39:13 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:39:13 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_qmCv9R9Ke65HuV', {"user":"      'request-id': 'req_qmCv9R9Ke65HuV',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_qmCv9R9Ke65HuV',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_qmCv9R9Ke65HuV' {"user":"    requestId: 'req_qmCv9R9Ke65HuV'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_qmCv9R9Ke65HuV'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:39:13 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:39:13 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:39:13 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_qmCv9R9Ke65HuV', {"user":"    'request-id': 'req_qmCv9R9Ke65HuV',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_qmCv9R9Ke65HuV',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_qmCv9R9Ke65HuV', {"user":"  requestId: 'req_qmCv9R9Ke65HuV',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_qmCv9R9Ke65HuV',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:39:13.827Z] [worker-us-central1-api-485b0219-ce04-4604-963d-a4e4487b7d94]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-485b0219-ce04-4604-963d-a4e4487b7d94]: exited"}}
[debug] [2021-09-08T20:39:13.827Z] [worker-us-central1-api-485b0219-ce04-4604-963d-a4e4487b7d94]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-485b0219-ce04-4604-963d-a4e4487b7d94]: FINISHED"}}
[debug] [2021-09-08T20:39:13.828Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:40:57.767Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:40:57.768Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:40:57.768Z] Accepted request GET /buy-tech-ac05c/us-central1/api --> us-central1-api
[debug] [2021-09-08T20:40:57.768Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:40:57.779Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:40:57.780Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:40:57.780Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:40:57.780Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: Assigning socketPath: /tmp/fire_emu_20891.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: Assigning socketPath: /tmp/fire_emu_20891.sock"}}
[debug] [2021-09-08T20:40:57.781Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: BUSY"}}
[debug] [2021-09-08T20:40:58.114Z] [runtime-status] [20891] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:40:58.125Z] [runtime-status] [20891] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:40:58.126Z] [runtime-status] [20891] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:40:58.129Z] [runtime-status] [20891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:40:58.131Z] [runtime-status] [20891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:40:58.136Z] [runtime-status] [20891] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:40:58.136Z] [runtime-status] [20891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:40:58.192Z] [runtime-status] [20891] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:40:58.193Z] [runtime-status] [20891] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:40:58.196Z] [runtime-status] [20891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:40:58.197Z] [runtime-status] [20891] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:40:58.197Z] [runtime-status] [20891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:40:58.198Z] [runtime-status] [20891] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:40:58.306Z] [runtime-status] [20891] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:40:58.307Z] [runtime-status] [20891] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:40:58.308Z] [runtime-status] [20891] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:40:58.315Z] [runtime-status] [20891] Attempting to listen to socketPath: /tmp/fire_emu_20891.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Attempting to listen to socketPath: /tmp/fire_emu_20891.sock"}}
[debug] [2021-09-08T20:40:58.320Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:40:58.322Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api, mapping to path=/"}}
[debug] [2021-09-08T20:40:58.339Z] [runtime-status] [20891] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Ephemeral server handling GET request"}}
[debug] [2021-09-08T20:40:58.363Z] [runtime-status] [20891] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-08T20:40:58.368Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: IDLE"}}
[debug] [2021-09-08T20:40:58.368Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:41:22.152Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:41:22.152Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:41:22.153Z] Accepted request GET /buy-tech-ac05c/us-central1/api/ --> us-central1-api
[debug] [2021-09-08T20:41:22.153Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:41:22.154Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: Assigning socketPath: /tmp/fire_emu_20891.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: Assigning socketPath: /tmp/fire_emu_20891.sock"}}
[debug] [2021-09-08T20:41:22.154Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: BUSY"}}
[debug] [2021-09-08T20:41:22.162Z] [runtime-status] [20891] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:41:22.165Z] [runtime-status] [20891] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:41:22.166Z] [runtime-status] [20891] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:41:22.166Z] [runtime-status] [20891] Attempting to listen to socketPath: /tmp/fire_emu_20891.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Attempting to listen to socketPath: /tmp/fire_emu_20891.sock"}}
[debug] [2021-09-08T20:41:22.173Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:41:22.174Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/, mapping to path=/"}}
[debug] [2021-09-08T20:41:22.186Z] [runtime-status] [20891] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Ephemeral server handling GET request"}}
[debug] [2021-09-08T20:41:22.190Z] [runtime-status] [20891] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-08T20:41:22.195Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: IDLE"}}
[debug] [2021-09-08T20:41:22.195Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:42:15.481Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:42:15.482Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:42:15.482Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=228400 --> us-central1-api
[debug] [2021-09-08T20:42:15.482Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:42:15.483Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: Assigning socketPath: /tmp/fire_emu_20891.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: Assigning socketPath: /tmp/fire_emu_20891.sock"}}
[debug] [2021-09-08T20:42:15.483Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: BUSY"}}
[debug] [2021-09-08T20:42:15.486Z] [runtime-status] [20891] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:42:15.487Z] [runtime-status] [20891] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:42:15.488Z] [runtime-status] [20891] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:42:15.489Z] [runtime-status] [20891] Attempting to listen to socketPath: /tmp/fire_emu_20891.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Attempting to listen to socketPath: /tmp/fire_emu_20891.sock"}}
[debug] [2021-09-08T20:42:15.491Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:42:15.491Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=228400, mapping to path=/payments/create?total=228400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=228400, mapping to path=/payments/create?total=228400"}}
[debug] [2021-09-08T20:42:15.504Z] [runtime-status] [20891] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Ephemeral server handling POST request"}}
[info] >  payment request recieved 228400 {"user":"payment request recieved 228400","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 228400"}}
[debug] [2021-09-08T20:42:15.530Z] [runtime-status] [20891] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [20891] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:42:16 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:42:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:42:16 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_8fEDF2ZuXbJpx6', {"user":"      'request-id': 'req_8fEDF2ZuXbJpx6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_8fEDF2ZuXbJpx6',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_8fEDF2ZuXbJpx6' {"user":"    requestId: 'req_8fEDF2ZuXbJpx6'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_8fEDF2ZuXbJpx6'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:42:16 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:42:16 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:42:16 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_8fEDF2ZuXbJpx6', {"user":"    'request-id': 'req_8fEDF2ZuXbJpx6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_8fEDF2ZuXbJpx6',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_8fEDF2ZuXbJpx6', {"user":"  requestId: 'req_8fEDF2ZuXbJpx6',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_8fEDF2ZuXbJpx6',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:42:16.966Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: exited"}}
[debug] [2021-09-08T20:42:16.966Z] [worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-8b1f8c5a-9def-4d6f-817d-336ed33ff3d8]: FINISHED"}}
[debug] [2021-09-08T20:42:16.966Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:42:24.861Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:42:24.861Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:42:24.861Z] Accepted request GET /buy-tech-ac05c/us-central1/api/payments/create?total=228400 --> us-central1-api
[debug] [2021-09-08T20:42:24.861Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:42:24.874Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:42:24.875Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:42:24.875Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:42:24.876Z] [worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: Assigning socketPath: /tmp/fire_emu_21217.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: Assigning socketPath: /tmp/fire_emu_21217.sock"}}
[debug] [2021-09-08T20:42:24.876Z] [worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: BUSY"}}
[debug] [2021-09-08T20:42:25.267Z] [runtime-status] [21217] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:42:25.280Z] [runtime-status] [21217] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:42:25.283Z] [runtime-status] [21217] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:25.283Z] [runtime-status] [21217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:25.294Z] [runtime-status] [21217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:25.295Z] [runtime-status] [21217] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:42:25.297Z] [runtime-status] [21217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:25.351Z] [runtime-status] [21217] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:42:25.352Z] [runtime-status] [21217] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:42:25.353Z] [runtime-status] [21217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:25.355Z] [runtime-status] [21217] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:25.357Z] [runtime-status] [21217] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:25.357Z] [runtime-status] [21217] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:42:25.499Z] [runtime-status] [21217] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:42:25.502Z] [runtime-status] [21217] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:42:25.502Z] [runtime-status] [21217] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:42:25.510Z] [runtime-status] [21217] Attempting to listen to socketPath: /tmp/fire_emu_21217.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Attempting to listen to socketPath: /tmp/fire_emu_21217.sock"}}
[debug] [2021-09-08T20:42:25.515Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:42:25.517Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=228400, mapping to path=/payments/create?total=228400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=228400, mapping to path=/payments/create?total=228400"}}
[debug] [2021-09-08T20:42:25.538Z] [runtime-status] [21217] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Ephemeral server handling GET request"}}
[debug] [2021-09-08T20:42:25.558Z] [runtime-status] [21217] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21217] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-08T20:42:25.562Z] [worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: IDLE"}}
[debug] [2021-09-08T20:42:25.562Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:42:57.594Z] File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers"}}
[debug] [2021-09-08T20:42:58.595Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-09-08T20:42:58.595Z] [worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: FINISHING"}}
[debug] [2021-09-08T20:42:58.596Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2021-09-08T20:42:58.596Z] [worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: FINISHING"}}
[debug] [2021-09-08T20:42:58.607Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-09-08T20:42:58.609Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-09-08T20:42:58.609Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-09-08T20:42:58.609Z] [worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: Assigning socketPath: /tmp/fire_emu_21310.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: Assigning socketPath: /tmp/fire_emu_21310.sock"}}
[debug] [2021-09-08T20:42:58.610Z] [worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: BUSY"}}
[debug] [2021-09-08T20:42:58.612Z] [worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: exited"}}
[debug] [2021-09-08T20:42:58.612Z] [worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-619928f1-db39-422e-86ef-7b2d40fd34ee]: FINISHED"}}
[debug] [2021-09-08T20:42:58.613Z] [worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: exited"}}
[debug] [2021-09-08T20:42:58.613Z] [worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f407b6da-1f29-449f-8193-d1b5eba6e1f6]: FINISHED"}}
[debug] [2021-09-08T20:42:59.258Z] [runtime-status] [21310] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:42:59.267Z] [runtime-status] [21310] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:42:59.268Z] [runtime-status] [21310] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:59.277Z] [runtime-status] [21310] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:59.290Z] [runtime-status] [21310] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:59.294Z] [runtime-status] [21310] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:42:59.297Z] [runtime-status] [21310] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:59.374Z] [runtime-status] [21310] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:42:59.375Z] [runtime-status] [21310] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:42:59.377Z] [runtime-status] [21310] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:59.382Z] [runtime-status] [21310] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:59.383Z] [runtime-status] [21310] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:42:59.384Z] [runtime-status] [21310] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21310] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:42:59.530Z] [worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: IDLE"}}
[debug] [2021-09-08T20:43:04.105Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:43:04.106Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:43:04.106Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-08T20:43:04.106Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-09-08T20:43:04.107Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:43:04.119Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:43:04.119Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:43:04.120Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:43:04.120Z] [worker-us-central1-api-51dcf858-b0ad-4751-8c68-edac11205a91]: Assigning socketPath: /tmp/fire_emu_21323.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51dcf858-b0ad-4751-8c68-edac11205a91]: Assigning socketPath: /tmp/fire_emu_21323.sock"}}
[debug] [2021-09-08T20:43:04.120Z] [worker-us-central1-api-51dcf858-b0ad-4751-8c68-edac11205a91]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51dcf858-b0ad-4751-8c68-edac11205a91]: BUSY"}}
[debug] [2021-09-08T20:43:04.839Z] [runtime-status] [21323] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:43:04.854Z] [runtime-status] [21323] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:43:04.854Z] [runtime-status] [21323] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:04.855Z] [runtime-status] [21323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:04.863Z] [runtime-status] [21323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:04.868Z] [runtime-status] [21323] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:43:04.882Z] [runtime-status] [21323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:04.992Z] [runtime-status] [21323] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:43:04.994Z] [runtime-status] [21323] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:43:04.998Z] [runtime-status] [21323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:05.002Z] [runtime-status] [21323] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:05.006Z] [runtime-status] [21323] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:05.006Z] [runtime-status] [21323] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:43:05.249Z] [runtime-status] [21323] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:43:05.255Z] [runtime-status] [21323] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:43:05.255Z] [runtime-status] [21323] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:43:05.265Z] [runtime-status] [21323] Attempting to listen to socketPath: /tmp/fire_emu_21323.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Attempting to listen to socketPath: /tmp/fire_emu_21323.sock"}}
[debug] [2021-09-08T20:43:05.272Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:43:05.278Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-08T20:43:05.305Z] [runtime-status] [21323] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Ephemeral server handling POST request"}}
[info] >  payment request recieved 0 {"user":"payment request recieved 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 0"}}
[debug] [2021-09-08T20:43:05.341Z] [runtime-status] [21323] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21323] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:43:06 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:43:06 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:43:06 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_PYzHTcvQSN2TCs', {"user":"      'request-id': 'req_PYzHTcvQSN2TCs',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_PYzHTcvQSN2TCs',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_PYzHTcvQSN2TCs' {"user":"    requestId: 'req_PYzHTcvQSN2TCs'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_PYzHTcvQSN2TCs'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:43:06 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:43:06 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:43:06 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_PYzHTcvQSN2TCs', {"user":"    'request-id': 'req_PYzHTcvQSN2TCs',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_PYzHTcvQSN2TCs',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_PYzHTcvQSN2TCs', {"user":"  requestId: 'req_PYzHTcvQSN2TCs',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_PYzHTcvQSN2TCs',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:43:06.522Z] [worker-us-central1-api-51dcf858-b0ad-4751-8c68-edac11205a91]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51dcf858-b0ad-4751-8c68-edac11205a91]: exited"}}
[debug] [2021-09-08T20:43:06.523Z] [worker-us-central1-api-51dcf858-b0ad-4751-8c68-edac11205a91]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-51dcf858-b0ad-4751-8c68-edac11205a91]: FINISHED"}}
[debug] [2021-09-08T20:43:06.523Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:43:41.722Z] File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers"}}
[debug] [2021-09-08T20:43:42.722Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-09-08T20:43:42.722Z] [worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: FINISHING"}}
[debug] [2021-09-08T20:43:42.723Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:43:42.734Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-09-08T20:43:42.735Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-09-08T20:43:42.735Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-09-08T20:43:42.736Z] [worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: Assigning socketPath: /tmp/fire_emu_21429.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: Assigning socketPath: /tmp/fire_emu_21429.sock"}}
[debug] [2021-09-08T20:43:42.736Z] [worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: BUSY"}}
[debug] [2021-09-08T20:43:42.738Z] [worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: exited"}}
[debug] [2021-09-08T20:43:42.739Z] [worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bf17481a-5d62-49ee-bf77-582e7279feb0]: FINISHED"}}
[debug] [2021-09-08T20:43:43.211Z] [runtime-status] [21429] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:43:43.215Z] [runtime-status] [21429] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:43:43.219Z] [runtime-status] [21429] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:43.224Z] [runtime-status] [21429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:43.227Z] [runtime-status] [21429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:43.231Z] [runtime-status] [21429] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:43:43.234Z] [runtime-status] [21429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:43.292Z] [runtime-status] [21429] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:43:43.294Z] [runtime-status] [21429] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:43:43.296Z] [runtime-status] [21429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:43.300Z] [runtime-status] [21429] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:43.300Z] [runtime-status] [21429] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:43.300Z] [runtime-status] [21429] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21429] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:43:43.430Z] [worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: IDLE"}}
[debug] [2021-09-08T20:43:53.880Z] File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers"}}
[debug] [2021-09-08T20:43:54.882Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-09-08T20:43:54.883Z] [worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: FINISHING"}}
[debug] [2021-09-08T20:43:54.884Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-09-08T20:43:54.896Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-09-08T20:43:54.897Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-09-08T20:43:54.897Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-09-08T20:43:54.897Z] [worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: Assigning socketPath: /tmp/fire_emu_21495.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: Assigning socketPath: /tmp/fire_emu_21495.sock"}}
[debug] [2021-09-08T20:43:54.898Z] [worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: BUSY"}}
[debug] [2021-09-08T20:43:54.901Z] [worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: exited"}}
[debug] [2021-09-08T20:43:54.901Z] [worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c8877a57-c842-498b-b860-d14a90f58e04]: FINISHED"}}
[debug] [2021-09-08T20:43:55.279Z] [runtime-status] [21495] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:43:55.284Z] [runtime-status] [21495] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:43:55.290Z] [runtime-status] [21495] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:55.298Z] [runtime-status] [21495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:55.300Z] [runtime-status] [21495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:55.304Z] [runtime-status] [21495] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:43:55.307Z] [runtime-status] [21495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:55.366Z] [runtime-status] [21495] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:43:55.366Z] [runtime-status] [21495] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:43:55.369Z] [runtime-status] [21495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:55.370Z] [runtime-status] [21495] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:55.372Z] [runtime-status] [21495] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:43:55.372Z] [runtime-status] [21495] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21495] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:43:55.505Z] [worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: IDLE"}}
[debug] [2021-09-08T20:45:23.165Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:45:23.165Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:45:23.165Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=616200 --> us-central1-api
[debug] [2021-09-08T20:45:23.166Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-09-08T20:45:23.176Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:45:23.176Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:45:23.177Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:45:23.177Z] [worker-us-central1-api-643a59eb-4c41-460c-aee1-c78f3b76902d]: Assigning socketPath: /tmp/fire_emu_21570.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-643a59eb-4c41-460c-aee1-c78f3b76902d]: Assigning socketPath: /tmp/fire_emu_21570.sock"}}
[debug] [2021-09-08T20:45:23.179Z] [worker-us-central1-api-643a59eb-4c41-460c-aee1-c78f3b76902d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-643a59eb-4c41-460c-aee1-c78f3b76902d]: BUSY"}}
[debug] [2021-09-08T20:45:23.734Z] [runtime-status] [21570] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:45:23.746Z] [runtime-status] [21570] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:45:23.746Z] [runtime-status] [21570] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:23.751Z] [runtime-status] [21570] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:23.758Z] [runtime-status] [21570] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:23.761Z] [runtime-status] [21570] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:45:23.775Z] [runtime-status] [21570] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:23.834Z] [runtime-status] [21570] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:45:23.836Z] [runtime-status] [21570] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:45:23.838Z] [runtime-status] [21570] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:23.840Z] [runtime-status] [21570] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:23.841Z] [runtime-status] [21570] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:23.841Z] [runtime-status] [21570] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:45:23.974Z] [runtime-status] [21570] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:45:23.976Z] [runtime-status] [21570] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:45:23.976Z] [runtime-status] [21570] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:45:23.982Z] [runtime-status] [21570] Attempting to listen to socketPath: /tmp/fire_emu_21570.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Attempting to listen to socketPath: /tmp/fire_emu_21570.sock"}}
[debug] [2021-09-08T20:45:23.990Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:45:23.991Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=616200, mapping to path=/payments/create?total=616200 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=616200, mapping to path=/payments/create?total=616200"}}
[debug] [2021-09-08T20:45:24.008Z] [runtime-status] [21570] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Ephemeral server handling POST request"}}
[info] >  payment request recieved 616200 {"user":"payment request recieved 616200","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 616200"}}
[debug] [2021-09-08T20:45:24.029Z] [runtime-status] [21570] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21570] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:45:25 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:45:25 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:45:25 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_B08reLNYJeAnMD', {"user":"      'request-id': 'req_B08reLNYJeAnMD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_B08reLNYJeAnMD',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_B08reLNYJeAnMD' {"user":"    requestId: 'req_B08reLNYJeAnMD'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_B08reLNYJeAnMD'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:45:25 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:45:25 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:45:25 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_B08reLNYJeAnMD', {"user":"    'request-id': 'req_B08reLNYJeAnMD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_B08reLNYJeAnMD',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_B08reLNYJeAnMD', {"user":"  requestId: 'req_B08reLNYJeAnMD',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_B08reLNYJeAnMD',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:45:26.132Z] [worker-us-central1-api-643a59eb-4c41-460c-aee1-c78f3b76902d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-643a59eb-4c41-460c-aee1-c78f3b76902d]: exited"}}
[debug] [2021-09-08T20:45:26.133Z] [worker-us-central1-api-643a59eb-4c41-460c-aee1-c78f3b76902d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-643a59eb-4c41-460c-aee1-c78f3b76902d]: FINISHED"}}
[debug] [2021-09-08T20:45:26.133Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:45:53.693Z] File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers"}}
[debug] [2021-09-08T20:45:54.694Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-09-08T20:45:54.695Z] [worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: FINISHING"}}
[debug] [2021-09-08T20:45:54.696Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:45:54.710Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-09-08T20:45:54.710Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-09-08T20:45:54.710Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-09-08T20:45:54.711Z] [worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: Assigning socketPath: /tmp/fire_emu_21664.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: Assigning socketPath: /tmp/fire_emu_21664.sock"}}
[debug] [2021-09-08T20:45:54.711Z] [worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: BUSY"}}
[debug] [2021-09-08T20:45:54.713Z] [worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: exited"}}
[debug] [2021-09-08T20:45:54.713Z] [worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-af5770eb-b0f6-475b-b454-542e8ca829d8]: FINISHED"}}
[debug] [2021-09-08T20:45:55.033Z] [runtime-status] [21664] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:45:55.036Z] [runtime-status] [21664] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:45:55.042Z] [runtime-status] [21664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:55.047Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:55.050Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:55.053Z] [runtime-status] [21664] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:45:55.055Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:55.109Z] [runtime-status] [21664] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:45:55.110Z] [runtime-status] [21664] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:45:55.112Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:55.114Z] [runtime-status] [21664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:55.114Z] [runtime-status] [21664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:45:55.115Z] [runtime-status] [21664] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [21664] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:45:55.223Z] [worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: IDLE"}}
[debug] [2021-09-08T20:46:00.556Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:46:00.557Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:46:00.557Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-08T20:46:00.557Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-09-08T20:46:00.569Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:46:00.570Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:46:00.570Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:46:00.571Z] [worker-us-central1-api-fde04fff-66a5-446c-8375-36b851f52ce6]: Assigning socketPath: /tmp/fire_emu_21688.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fde04fff-66a5-446c-8375-36b851f52ce6]: Assigning socketPath: /tmp/fire_emu_21688.sock"}}
[debug] [2021-09-08T20:46:00.571Z] [worker-us-central1-api-fde04fff-66a5-446c-8375-36b851f52ce6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fde04fff-66a5-446c-8375-36b851f52ce6]: BUSY"}}
[debug] [2021-09-08T20:46:01.240Z] [runtime-status] [21688] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:46:01.257Z] [runtime-status] [21688] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:46:01.262Z] [runtime-status] [21688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:01.281Z] [runtime-status] [21688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:01.285Z] [runtime-status] [21688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:01.292Z] [runtime-status] [21688] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:46:01.294Z] [runtime-status] [21688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:01.384Z] [runtime-status] [21688] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:46:01.387Z] [runtime-status] [21688] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:46:01.391Z] [runtime-status] [21688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:01.392Z] [runtime-status] [21688] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:01.392Z] [runtime-status] [21688] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:01.392Z] [runtime-status] [21688] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:46:01.586Z] [runtime-status] [21688] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:46:01.587Z] [runtime-status] [21688] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:46:01.588Z] [runtime-status] [21688] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:46:01.597Z] [runtime-status] [21688] Attempting to listen to socketPath: /tmp/fire_emu_21688.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Attempting to listen to socketPath: /tmp/fire_emu_21688.sock"}}
[debug] [2021-09-08T20:46:01.602Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:46:01.603Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-08T20:46:01.621Z] [runtime-status] [21688] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Ephemeral server handling POST request"}}
[info] >  payment request recieved 0 {"user":"payment request recieved 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 0"}}
[debug] [2021-09-08T20:46:01.658Z] [runtime-status] [21688] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21688] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:46:02 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:46:02 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:46:02 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_PJOQL4TLiZrn9l', {"user":"      'request-id': 'req_PJOQL4TLiZrn9l',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_PJOQL4TLiZrn9l',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_PJOQL4TLiZrn9l' {"user":"    requestId: 'req_PJOQL4TLiZrn9l'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_PJOQL4TLiZrn9l'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:46:02 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:46:02 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:46:02 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_PJOQL4TLiZrn9l', {"user":"    'request-id': 'req_PJOQL4TLiZrn9l',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_PJOQL4TLiZrn9l',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_PJOQL4TLiZrn9l', {"user":"  requestId: 'req_PJOQL4TLiZrn9l',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_PJOQL4TLiZrn9l',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:46:02.646Z] [worker-us-central1-api-fde04fff-66a5-446c-8375-36b851f52ce6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fde04fff-66a5-446c-8375-36b851f52ce6]: exited"}}
[debug] [2021-09-08T20:46:02.646Z] [worker-us-central1-api-fde04fff-66a5-446c-8375-36b851f52ce6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-fde04fff-66a5-446c-8375-36b851f52ce6]: FINISHED"}}
[debug] [2021-09-08T20:46:02.646Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:46:32.899Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:46:32.900Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:46:32.900Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=54000 --> us-central1-api
[debug] [2021-09-08T20:46:32.900Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:46:32.912Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:46:32.912Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:46:32.913Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:46:32.913Z] [worker-us-central1-api-140c4490-297c-4af3-ac21-cef77db59a9b]: Assigning socketPath: /tmp/fire_emu_21777.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-140c4490-297c-4af3-ac21-cef77db59a9b]: Assigning socketPath: /tmp/fire_emu_21777.sock"}}
[debug] [2021-09-08T20:46:32.914Z] [worker-us-central1-api-140c4490-297c-4af3-ac21-cef77db59a9b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-140c4490-297c-4af3-ac21-cef77db59a9b]: BUSY"}}
[debug] [2021-09-08T20:46:33.289Z] [runtime-status] [21777] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:46:33.298Z] [runtime-status] [21777] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:46:33.302Z] [runtime-status] [21777] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:33.307Z] [runtime-status] [21777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:33.310Z] [runtime-status] [21777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:33.314Z] [runtime-status] [21777] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:46:33.316Z] [runtime-status] [21777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:33.375Z] [runtime-status] [21777] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:46:33.380Z] [runtime-status] [21777] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:46:33.380Z] [runtime-status] [21777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:33.380Z] [runtime-status] [21777] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:33.381Z] [runtime-status] [21777] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:33.382Z] [runtime-status] [21777] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:46:33.542Z] [runtime-status] [21777] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:46:33.545Z] [runtime-status] [21777] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:46:33.545Z] [runtime-status] [21777] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:46:33.551Z] [runtime-status] [21777] Attempting to listen to socketPath: /tmp/fire_emu_21777.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Attempting to listen to socketPath: /tmp/fire_emu_21777.sock"}}
[debug] [2021-09-08T20:46:33.560Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:46:33.564Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=54000, mapping to path=/payments/create?total=54000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=54000, mapping to path=/payments/create?total=54000"}}
[debug] [2021-09-08T20:46:33.583Z] [runtime-status] [21777] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Ephemeral server handling POST request"}}
[info] >  payment request recieved 54000 {"user":"payment request recieved 54000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 54000"}}
[debug] [2021-09-08T20:46:33.618Z] [runtime-status] [21777] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21777] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:46:34 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:46:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:46:34 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_qVpF5mVOidoKMw', {"user":"      'request-id': 'req_qVpF5mVOidoKMw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_qVpF5mVOidoKMw',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_qVpF5mVOidoKMw' {"user":"    requestId: 'req_qVpF5mVOidoKMw'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_qVpF5mVOidoKMw'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:46:34 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:46:34 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:46:34 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_qVpF5mVOidoKMw', {"user":"    'request-id': 'req_qVpF5mVOidoKMw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_qVpF5mVOidoKMw',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_qVpF5mVOidoKMw', {"user":"  requestId: 'req_qVpF5mVOidoKMw',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_qVpF5mVOidoKMw',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:46:34.850Z] [worker-us-central1-api-140c4490-297c-4af3-ac21-cef77db59a9b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-140c4490-297c-4af3-ac21-cef77db59a9b]: exited"}}
[debug] [2021-09-08T20:46:34.851Z] [worker-us-central1-api-140c4490-297c-4af3-ac21-cef77db59a9b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-140c4490-297c-4af3-ac21-cef77db59a9b]: FINISHED"}}
[debug] [2021-09-08T20:46:34.851Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:46:56.839Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:46:56.840Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:46:56.840Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=354800 --> us-central1-api
[debug] [2021-09-08T20:46:56.840Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:46:56.855Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:46:56.856Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:46:56.856Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:46:56.856Z] [worker-us-central1-api-791cffac-f553-467a-ba7f-d3310859e8e9]: Assigning socketPath: /tmp/fire_emu_21864.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-791cffac-f553-467a-ba7f-d3310859e8e9]: Assigning socketPath: /tmp/fire_emu_21864.sock"}}
[debug] [2021-09-08T20:46:56.856Z] [worker-us-central1-api-791cffac-f553-467a-ba7f-d3310859e8e9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-791cffac-f553-467a-ba7f-d3310859e8e9]: BUSY"}}
[debug] [2021-09-08T20:46:57.350Z] [runtime-status] [21864] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:46:57.354Z] [runtime-status] [21864] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:46:57.358Z] [runtime-status] [21864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:57.365Z] [runtime-status] [21864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:57.368Z] [runtime-status] [21864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:57.372Z] [runtime-status] [21864] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:46:57.374Z] [runtime-status] [21864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:57.437Z] [runtime-status] [21864] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:46:57.438Z] [runtime-status] [21864] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:46:57.440Z] [runtime-status] [21864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:57.442Z] [runtime-status] [21864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:57.443Z] [runtime-status] [21864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:46:57.445Z] [runtime-status] [21864] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:46:57.568Z] [runtime-status] [21864] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:46:57.570Z] [runtime-status] [21864] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:46:57.571Z] [runtime-status] [21864] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:46:57.577Z] [runtime-status] [21864] Attempting to listen to socketPath: /tmp/fire_emu_21864.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Attempting to listen to socketPath: /tmp/fire_emu_21864.sock"}}
[debug] [2021-09-08T20:46:57.582Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:46:57.583Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=354800, mapping to path=/payments/create?total=354800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=354800, mapping to path=/payments/create?total=354800"}}
[debug] [2021-09-08T20:46:57.600Z] [runtime-status] [21864] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Ephemeral server handling POST request"}}
[info] >  payment request recieved 354800 {"user":"payment request recieved 354800","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 354800"}}
[debug] [2021-09-08T20:46:57.630Z] [runtime-status] [21864] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21864] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:46:59 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:46:59 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:46:59 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_w4ag5oMWART5Db', {"user":"      'request-id': 'req_w4ag5oMWART5Db',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_w4ag5oMWART5Db',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_w4ag5oMWART5Db' {"user":"    requestId: 'req_w4ag5oMWART5Db'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_w4ag5oMWART5Db'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:46:59 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:46:59 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:46:59 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_w4ag5oMWART5Db', {"user":"    'request-id': 'req_w4ag5oMWART5Db',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_w4ag5oMWART5Db',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_w4ag5oMWART5Db', {"user":"  requestId: 'req_w4ag5oMWART5Db',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_w4ag5oMWART5Db',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:46:59.340Z] [worker-us-central1-api-791cffac-f553-467a-ba7f-d3310859e8e9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-791cffac-f553-467a-ba7f-d3310859e8e9]: exited"}}
[debug] [2021-09-08T20:46:59.340Z] [worker-us-central1-api-791cffac-f553-467a-ba7f-d3310859e8e9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-791cffac-f553-467a-ba7f-d3310859e8e9]: FINISHED"}}
[debug] [2021-09-08T20:46:59.341Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:47:24.447Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:47:24.448Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:47:24.448Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-08T20:47:24.448Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:47:24.469Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:47:24.470Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:47:24.470Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:47:24.470Z] [worker-us-central1-api-5b46d2af-d60d-46fc-a7a7-b7aae688a155]: Assigning socketPath: /tmp/fire_emu_21928.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5b46d2af-d60d-46fc-a7a7-b7aae688a155]: Assigning socketPath: /tmp/fire_emu_21928.sock"}}
[debug] [2021-09-08T20:47:24.470Z] [worker-us-central1-api-5b46d2af-d60d-46fc-a7a7-b7aae688a155]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5b46d2af-d60d-46fc-a7a7-b7aae688a155]: BUSY"}}
[debug] [2021-09-08T20:47:25.133Z] [runtime-status] [21928] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:47:25.144Z] [runtime-status] [21928] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:47:25.153Z] [runtime-status] [21928] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:47:25.167Z] [runtime-status] [21928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:47:25.175Z] [runtime-status] [21928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:47:25.175Z] [runtime-status] [21928] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:47:25.179Z] [runtime-status] [21928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:47:25.266Z] [runtime-status] [21928] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:47:25.267Z] [runtime-status] [21928] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:47:25.269Z] [runtime-status] [21928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:47:25.275Z] [runtime-status] [21928] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:47:25.279Z] [runtime-status] [21928] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:47:25.280Z] [runtime-status] [21928] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:47:25.472Z] [runtime-status] [21928] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:47:25.474Z] [runtime-status] [21928] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:47:25.474Z] [runtime-status] [21928] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:47:25.483Z] [runtime-status] [21928] Attempting to listen to socketPath: /tmp/fire_emu_21928.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Attempting to listen to socketPath: /tmp/fire_emu_21928.sock"}}
[debug] [2021-09-08T20:47:25.495Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:47:25.498Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-08T20:47:25.518Z] [runtime-status] [21928] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Ephemeral server handling POST request"}}
[info] >  payment request recieved 0 {"user":"payment request recieved 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 0"}}
[debug] [2021-09-08T20:47:25.560Z] [runtime-status] [21928] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [21928] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:47:26 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:47:26 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:47:26 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_dqw27YAXmcXWrM', {"user":"      'request-id': 'req_dqw27YAXmcXWrM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_dqw27YAXmcXWrM',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_dqw27YAXmcXWrM' {"user":"    requestId: 'req_dqw27YAXmcXWrM'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_dqw27YAXmcXWrM'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:47:26 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:47:26 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:47:26 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_dqw27YAXmcXWrM', {"user":"    'request-id': 'req_dqw27YAXmcXWrM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_dqw27YAXmcXWrM',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_dqw27YAXmcXWrM', {"user":"  requestId: 'req_dqw27YAXmcXWrM',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_dqw27YAXmcXWrM',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:47:27.018Z] [worker-us-central1-api-5b46d2af-d60d-46fc-a7a7-b7aae688a155]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5b46d2af-d60d-46fc-a7a7-b7aae688a155]: exited"}}
[debug] [2021-09-08T20:47:27.019Z] [worker-us-central1-api-5b46d2af-d60d-46fc-a7a7-b7aae688a155]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5b46d2af-d60d-46fc-a7a7-b7aae688a155]: FINISHED"}}
[debug] [2021-09-08T20:47:27.026Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:48:21.474Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:48:21.475Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:48:21.475Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=524800 --> us-central1-api
[debug] [2021-09-08T20:48:21.475Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:48:21.486Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:48:21.486Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:48:21.487Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:48:21.487Z] [worker-us-central1-api-6e311af9-c4fb-4ed5-8bc0-57ab5bdd3f8b]: Assigning socketPath: /tmp/fire_emu_22029.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e311af9-c4fb-4ed5-8bc0-57ab5bdd3f8b]: Assigning socketPath: /tmp/fire_emu_22029.sock"}}
[debug] [2021-09-08T20:48:21.487Z] [worker-us-central1-api-6e311af9-c4fb-4ed5-8bc0-57ab5bdd3f8b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e311af9-c4fb-4ed5-8bc0-57ab5bdd3f8b]: BUSY"}}
[debug] [2021-09-08T20:48:21.999Z] [runtime-status] [22029] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:48:22.006Z] [runtime-status] [22029] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:48:22.008Z] [runtime-status] [22029] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:22.014Z] [runtime-status] [22029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:22.016Z] [runtime-status] [22029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:22.022Z] [runtime-status] [22029] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:48:22.022Z] [runtime-status] [22029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:22.096Z] [runtime-status] [22029] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:48:22.096Z] [runtime-status] [22029] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:48:22.098Z] [runtime-status] [22029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:22.099Z] [runtime-status] [22029] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:22.101Z] [runtime-status] [22029] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:22.102Z] [runtime-status] [22029] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:48:22.246Z] [runtime-status] [22029] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:48:22.247Z] [runtime-status] [22029] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:48:22.248Z] [runtime-status] [22029] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:48:22.265Z] [runtime-status] [22029] Attempting to listen to socketPath: /tmp/fire_emu_22029.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Attempting to listen to socketPath: /tmp/fire_emu_22029.sock"}}
[debug] [2021-09-08T20:48:22.267Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:48:22.268Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=524800, mapping to path=/payments/create?total=524800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=524800, mapping to path=/payments/create?total=524800"}}
[debug] [2021-09-08T20:48:22.291Z] [runtime-status] [22029] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Ephemeral server handling POST request"}}
[info] >  payment request recieved 524800 {"user":"payment request recieved 524800","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 524800"}}
[debug] [2021-09-08T20:48:22.318Z] [runtime-status] [22029] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22029] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:48:23 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:48:23 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:48:23 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_drgXLwZ3u4DlgH', {"user":"      'request-id': 'req_drgXLwZ3u4DlgH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_drgXLwZ3u4DlgH',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_drgXLwZ3u4DlgH' {"user":"    requestId: 'req_drgXLwZ3u4DlgH'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_drgXLwZ3u4DlgH'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:48:23 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:48:23 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:48:23 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_drgXLwZ3u4DlgH', {"user":"    'request-id': 'req_drgXLwZ3u4DlgH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_drgXLwZ3u4DlgH',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_drgXLwZ3u4DlgH', {"user":"  requestId: 'req_drgXLwZ3u4DlgH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_drgXLwZ3u4DlgH',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:48:23.450Z] [worker-us-central1-api-6e311af9-c4fb-4ed5-8bc0-57ab5bdd3f8b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e311af9-c4fb-4ed5-8bc0-57ab5bdd3f8b]: exited"}}
[debug] [2021-09-08T20:48:23.451Z] [worker-us-central1-api-6e311af9-c4fb-4ed5-8bc0-57ab5bdd3f8b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6e311af9-c4fb-4ed5-8bc0-57ab5bdd3f8b]: FINISHED"}}
[debug] [2021-09-08T20:48:23.451Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:48:34.513Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:48:34.513Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:48:34.513Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=524800 --> us-central1-api
[debug] [2021-09-08T20:48:34.514Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:48:34.522Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:48:34.522Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:48:34.522Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:48:34.523Z] [worker-us-central1-api-2238a199-86de-4a39-ae48-69e97b9defba]: Assigning socketPath: /tmp/fire_emu_22095.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2238a199-86de-4a39-ae48-69e97b9defba]: Assigning socketPath: /tmp/fire_emu_22095.sock"}}
[debug] [2021-09-08T20:48:34.525Z] [worker-us-central1-api-2238a199-86de-4a39-ae48-69e97b9defba]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2238a199-86de-4a39-ae48-69e97b9defba]: BUSY"}}
[debug] [2021-09-08T20:48:35.037Z] [runtime-status] [22095] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:48:35.046Z] [runtime-status] [22095] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:48:35.051Z] [runtime-status] [22095] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:35.058Z] [runtime-status] [22095] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:35.061Z] [runtime-status] [22095] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:35.067Z] [runtime-status] [22095] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:48:35.069Z] [runtime-status] [22095] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:35.137Z] [runtime-status] [22095] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:48:35.138Z] [runtime-status] [22095] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:48:35.140Z] [runtime-status] [22095] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:35.141Z] [runtime-status] [22095] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:35.142Z] [runtime-status] [22095] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:35.143Z] [runtime-status] [22095] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:48:35.278Z] [runtime-status] [22095] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:48:35.280Z] [runtime-status] [22095] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:48:35.280Z] [runtime-status] [22095] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:48:35.286Z] [runtime-status] [22095] Attempting to listen to socketPath: /tmp/fire_emu_22095.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Attempting to listen to socketPath: /tmp/fire_emu_22095.sock"}}
[debug] [2021-09-08T20:48:35.293Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:48:35.294Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=524800, mapping to path=/payments/create?total=524800 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=524800, mapping to path=/payments/create?total=524800"}}
[debug] [2021-09-08T20:48:35.312Z] [runtime-status] [22095] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Ephemeral server handling POST request"}}
[info] >  payment request recieved 524800 {"user":"payment request recieved 524800","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 524800"}}
[debug] [2021-09-08T20:48:35.338Z] [runtime-status] [22095] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22095] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:48:36 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:48:36 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:48:36 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_DIY7eA4vzwj44U', {"user":"      'request-id': 'req_DIY7eA4vzwj44U',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_DIY7eA4vzwj44U',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_DIY7eA4vzwj44U' {"user":"    requestId: 'req_DIY7eA4vzwj44U'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_DIY7eA4vzwj44U'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:48:36 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:48:36 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:48:36 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_DIY7eA4vzwj44U', {"user":"    'request-id': 'req_DIY7eA4vzwj44U',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_DIY7eA4vzwj44U',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_DIY7eA4vzwj44U', {"user":"  requestId: 'req_DIY7eA4vzwj44U',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_DIY7eA4vzwj44U',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:48:36.382Z] [worker-us-central1-api-2238a199-86de-4a39-ae48-69e97b9defba]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2238a199-86de-4a39-ae48-69e97b9defba]: exited"}}
[debug] [2021-09-08T20:48:36.382Z] [worker-us-central1-api-2238a199-86de-4a39-ae48-69e97b9defba]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-2238a199-86de-4a39-ae48-69e97b9defba]: FINISHED"}}
[debug] [2021-09-08T20:48:36.382Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:48:41.738Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:48:41.739Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:48:41.739Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-08T20:48:41.739Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:48:41.757Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:48:41.757Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:48:41.757Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:48:41.758Z] [worker-us-central1-api-4585a5c4-e4e4-4fd6-b39c-22f836d91e91]: Assigning socketPath: /tmp/fire_emu_22144.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4585a5c4-e4e4-4fd6-b39c-22f836d91e91]: Assigning socketPath: /tmp/fire_emu_22144.sock"}}
[debug] [2021-09-08T20:48:41.758Z] [worker-us-central1-api-4585a5c4-e4e4-4fd6-b39c-22f836d91e91]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4585a5c4-e4e4-4fd6-b39c-22f836d91e91]: BUSY"}}
[debug] [2021-09-08T20:48:42.439Z] [runtime-status] [22144] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:48:42.464Z] [runtime-status] [22144] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:48:42.471Z] [runtime-status] [22144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:42.488Z] [runtime-status] [22144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:42.497Z] [runtime-status] [22144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:42.502Z] [runtime-status] [22144] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:48:42.504Z] [runtime-status] [22144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:42.586Z] [runtime-status] [22144] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:48:42.587Z] [runtime-status] [22144] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:48:42.589Z] [runtime-status] [22144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:42.592Z] [runtime-status] [22144] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:42.594Z] [runtime-status] [22144] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:48:42.594Z] [runtime-status] [22144] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:48:42.825Z] [runtime-status] [22144] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:48:42.826Z] [runtime-status] [22144] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:48:42.827Z] [runtime-status] [22144] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:48:42.840Z] [runtime-status] [22144] Attempting to listen to socketPath: /tmp/fire_emu_22144.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Attempting to listen to socketPath: /tmp/fire_emu_22144.sock"}}
[debug] [2021-09-08T20:48:42.843Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:48:42.843Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-08T20:48:42.870Z] [runtime-status] [22144] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Ephemeral server handling POST request"}}
[info] >  payment request recieved 0 {"user":"payment request recieved 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 0"}}
[debug] [2021-09-08T20:48:42.906Z] [runtime-status] [22144] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22144] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:48:43 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:48:43 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:48:43 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_PXMK73J8RrkIjk', {"user":"      'request-id': 'req_PXMK73J8RrkIjk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_PXMK73J8RrkIjk',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_PXMK73J8RrkIjk' {"user":"    requestId: 'req_PXMK73J8RrkIjk'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_PXMK73J8RrkIjk'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:48:43 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:48:43 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:48:43 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_PXMK73J8RrkIjk', {"user":"    'request-id': 'req_PXMK73J8RrkIjk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_PXMK73J8RrkIjk',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_PXMK73J8RrkIjk', {"user":"  requestId: 'req_PXMK73J8RrkIjk',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_PXMK73J8RrkIjk',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:48:43.919Z] [worker-us-central1-api-4585a5c4-e4e4-4fd6-b39c-22f836d91e91]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4585a5c4-e4e4-4fd6-b39c-22f836d91e91]: exited"}}
[debug] [2021-09-08T20:48:43.919Z] [worker-us-central1-api-4585a5c4-e4e4-4fd6-b39c-22f836d91e91]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-4585a5c4-e4e4-4fd6-b39c-22f836d91e91]: FINISHED"}}
[debug] [2021-09-08T20:48:43.920Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:49:15.874Z] File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers"}}
[debug] [2021-09-08T20:49:16.875Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-09-08T20:49:16.876Z] [worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: FINISHING"}}
[debug] [2021-09-08T20:49:16.877Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:49:16.891Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-09-08T20:49:16.892Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-09-08T20:49:16.892Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-09-08T20:49:16.892Z] [worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: Assigning socketPath: /tmp/fire_emu_22284.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: Assigning socketPath: /tmp/fire_emu_22284.sock"}}
[debug] [2021-09-08T20:49:16.892Z] [worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: BUSY"}}
[debug] [2021-09-08T20:49:16.895Z] [worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: exited"}}
[debug] [2021-09-08T20:49:16.895Z] [worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6b530291-93a6-42d2-84ad-8ee8801c3f4d]: FINISHED"}}
[debug] [2021-09-08T20:49:17.206Z] [runtime-status] [22284] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:49:17.210Z] [runtime-status] [22284] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:49:17.215Z] [runtime-status] [22284] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:17.220Z] [runtime-status] [22284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:17.223Z] [runtime-status] [22284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:17.227Z] [runtime-status] [22284] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:49:17.229Z] [runtime-status] [22284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:17.284Z] [runtime-status] [22284] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:49:17.284Z] [runtime-status] [22284] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:49:17.286Z] [runtime-status] [22284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:17.288Z] [runtime-status] [22284] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:17.289Z] [runtime-status] [22284] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:17.289Z] [runtime-status] [22284] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22284] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:49:17.402Z] [worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: IDLE"}}
[debug] [2021-09-08T20:49:35.152Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:49:35.152Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:49:35.152Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=379300 --> us-central1-api
[debug] [2021-09-08T20:49:35.152Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-09-08T20:49:35.163Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:49:35.164Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:49:35.164Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:49:35.164Z] [worker-us-central1-api-24603c94-bc03-42f4-b422-9db2bda2bc40]: Assigning socketPath: /tmp/fire_emu_22314.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24603c94-bc03-42f4-b422-9db2bda2bc40]: Assigning socketPath: /tmp/fire_emu_22314.sock"}}
[debug] [2021-09-08T20:49:35.165Z] [worker-us-central1-api-24603c94-bc03-42f4-b422-9db2bda2bc40]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24603c94-bc03-42f4-b422-9db2bda2bc40]: BUSY"}}
[debug] [2021-09-08T20:49:35.763Z] [runtime-status] [22314] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:49:35.777Z] [runtime-status] [22314] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:49:35.777Z] [runtime-status] [22314] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:35.779Z] [runtime-status] [22314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:35.787Z] [runtime-status] [22314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:35.790Z] [runtime-status] [22314] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:49:35.794Z] [runtime-status] [22314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:35.857Z] [runtime-status] [22314] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:49:35.857Z] [runtime-status] [22314] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:49:35.859Z] [runtime-status] [22314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:35.861Z] [runtime-status] [22314] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:35.864Z] [runtime-status] [22314] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:35.864Z] [runtime-status] [22314] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:49:36.003Z] [runtime-status] [22314] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:49:36.004Z] [runtime-status] [22314] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:49:36.004Z] [runtime-status] [22314] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:49:36.012Z] [runtime-status] [22314] Attempting to listen to socketPath: /tmp/fire_emu_22314.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Attempting to listen to socketPath: /tmp/fire_emu_22314.sock"}}
[debug] [2021-09-08T20:49:36.017Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:49:36.018Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=379300, mapping to path=/payments/create?total=379300 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=379300, mapping to path=/payments/create?total=379300"}}
[debug] [2021-09-08T20:49:36.034Z] [runtime-status] [22314] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Ephemeral server handling POST request"}}
[info] >  payment request recieved 379300 {"user":"payment request recieved 379300","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 379300"}}
[debug] [2021-09-08T20:49:36.065Z] [runtime-status] [22314] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22314] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:49:37 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:49:37 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:49:37 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_jg0aAgRWVhDZpo', {"user":"      'request-id': 'req_jg0aAgRWVhDZpo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_jg0aAgRWVhDZpo',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_jg0aAgRWVhDZpo' {"user":"    requestId: 'req_jg0aAgRWVhDZpo'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_jg0aAgRWVhDZpo'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:49:37 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:49:37 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:49:37 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_jg0aAgRWVhDZpo', {"user":"    'request-id': 'req_jg0aAgRWVhDZpo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_jg0aAgRWVhDZpo',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_jg0aAgRWVhDZpo', {"user":"  requestId: 'req_jg0aAgRWVhDZpo',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_jg0aAgRWVhDZpo',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:49:37.503Z] [worker-us-central1-api-24603c94-bc03-42f4-b422-9db2bda2bc40]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24603c94-bc03-42f4-b422-9db2bda2bc40]: exited"}}
[debug] [2021-09-08T20:49:37.503Z] [worker-us-central1-api-24603c94-bc03-42f4-b422-9db2bda2bc40]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-24603c94-bc03-42f4-b422-9db2bda2bc40]: FINISHED"}}
[debug] [2021-09-08T20:49:37.504Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:49:48.284Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:49:48.285Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:49:48.285Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-08T20:49:48.285Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:49:48.296Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:49:48.297Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:49:48.297Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:49:48.297Z] [worker-us-central1-api-e9638595-5cc8-447e-ad35-5e4921c159c8]: Assigning socketPath: /tmp/fire_emu_22380.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e9638595-5cc8-447e-ad35-5e4921c159c8]: Assigning socketPath: /tmp/fire_emu_22380.sock"}}
[debug] [2021-09-08T20:49:48.302Z] [worker-us-central1-api-e9638595-5cc8-447e-ad35-5e4921c159c8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e9638595-5cc8-447e-ad35-5e4921c159c8]: BUSY"}}
[debug] [2021-09-08T20:49:48.959Z] [runtime-status] [22380] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:49:48.963Z] [runtime-status] [22380] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:49:48.968Z] [runtime-status] [22380] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:48.978Z] [runtime-status] [22380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:48.978Z] [runtime-status] [22380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:48.985Z] [runtime-status] [22380] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:49:48.986Z] [runtime-status] [22380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:49.097Z] [runtime-status] [22380] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:49:49.100Z] [runtime-status] [22380] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:49:49.101Z] [runtime-status] [22380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:49.104Z] [runtime-status] [22380] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:49.110Z] [runtime-status] [22380] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:49:49.110Z] [runtime-status] [22380] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:49:49.312Z] [runtime-status] [22380] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:49:49.314Z] [runtime-status] [22380] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:49:49.314Z] [runtime-status] [22380] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:49:49.321Z] [runtime-status] [22380] Attempting to listen to socketPath: /tmp/fire_emu_22380.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Attempting to listen to socketPath: /tmp/fire_emu_22380.sock"}}
[debug] [2021-09-08T20:49:49.326Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:49:49.327Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-08T20:49:49.352Z] [runtime-status] [22380] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Ephemeral server handling POST request"}}
[info] >  payment request recieved 0 {"user":"payment request recieved 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 0"}}
[debug] [2021-09-08T20:49:49.381Z] [runtime-status] [22380] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22380] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency? {"user":"StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Received unknown parameter: curency. Did you mean currency?"}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_unknown', {"user":"    code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_unknown',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >      message: 'Received unknown parameter: curency. Did you mean currency?', {"user":"    message: 'Received unknown parameter: curency. Did you mean currency?',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'Received unknown parameter: curency. Did you mean currency?',"}}
[info] >      param: 'curency', {"user":"    param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'curency',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:49:50 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:49:50 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:49:50 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '264', {"user":"      'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '264',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_5fcz964HcXsOEd', {"user":"      'request-id': 'req_5fcz964HcXsOEd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_5fcz964HcXsOEd',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_5fcz964HcXsOEd' {"user":"    requestId: 'req_5fcz964HcXsOEd'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_5fcz964HcXsOEd'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_unknown', {"user":"  code: 'parameter_unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_unknown',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-unknown',"}}
[info] >    param: 'curency', {"user":"  param: 'curency',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'curency',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:49:50 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:49:50 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:49:50 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '264', {"user":"    'content-length': '264',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '264',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_5fcz964HcXsOEd', {"user":"    'request-id': 'req_5fcz964HcXsOEd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_5fcz964HcXsOEd',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_5fcz964HcXsOEd', {"user":"  requestId: 'req_5fcz964HcXsOEd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_5fcz964HcXsOEd',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:49:50.483Z] [worker-us-central1-api-e9638595-5cc8-447e-ad35-5e4921c159c8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e9638595-5cc8-447e-ad35-5e4921c159c8]: exited"}}
[debug] [2021-09-08T20:49:50.483Z] [worker-us-central1-api-e9638595-5cc8-447e-ad35-5e4921c159c8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-e9638595-5cc8-447e-ad35-5e4921c159c8]: FINISHED"}}
[debug] [2021-09-08T20:49:50.483Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:51:00.571Z] File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /home/eldad/Documents/buy-tech/functions/index.js changed, reloading triggers"}}
[debug] [2021-09-08T20:51:01.571Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-09-08T20:51:01.572Z] [worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: FINISHING"}}
[debug] [2021-09-08T20:51:01.573Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:51:01.585Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-09-08T20:51:01.585Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-09-08T20:51:01.585Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-09-08T20:51:01.586Z] [worker-~diagnostic~-b33b269e-6c04-4d94-ab62-ad9eb239ebec]: Assigning socketPath: /tmp/fire_emu_22488.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b33b269e-6c04-4d94-ab62-ad9eb239ebec]: Assigning socketPath: /tmp/fire_emu_22488.sock"}}
[debug] [2021-09-08T20:51:01.586Z] [worker-~diagnostic~-b33b269e-6c04-4d94-ab62-ad9eb239ebec]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b33b269e-6c04-4d94-ab62-ad9eb239ebec]: BUSY"}}
[debug] [2021-09-08T20:51:01.587Z] [worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: exited"}}
[debug] [2021-09-08T20:51:01.588Z] [worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7ae9dafd-53d6-4b71-82ec-cc97ed27fdb2]: FINISHED"}}
[debug] [2021-09-08T20:51:01.957Z] [runtime-status] [22488] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:51:01.967Z] [runtime-status] [22488] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:51:01.968Z] [runtime-status] [22488] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:01.973Z] [runtime-status] [22488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:01.975Z] [runtime-status] [22488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:01.979Z] [runtime-status] [22488] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:51:01.981Z] [runtime-status] [22488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:02.045Z] [runtime-status] [22488] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:51:02.045Z] [runtime-status] [22488] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:51:02.046Z] [runtime-status] [22488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:02.050Z] [runtime-status] [22488] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:02.050Z] [runtime-status] [22488] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:02.051Z] [runtime-status] [22488] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [22488] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:51:02.181Z] [worker-~diagnostic~-b33b269e-6c04-4d94-ab62-ad9eb239ebec]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b33b269e-6c04-4d94-ab62-ad9eb239ebec]: IDLE"}}
[debug] [2021-09-08T20:51:16.765Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:51:16.765Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:51:16.766Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-08T20:51:16.766Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-09-08T20:51:16.779Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:51:16.779Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:51:16.779Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:51:16.780Z] [worker-us-central1-api-a95c1277-6f9f-4f33-bd08-0385ab0b8a89]: Assigning socketPath: /tmp/fire_emu_22522.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a95c1277-6f9f-4f33-bd08-0385ab0b8a89]: Assigning socketPath: /tmp/fire_emu_22522.sock"}}
[debug] [2021-09-08T20:51:16.780Z] [worker-us-central1-api-a95c1277-6f9f-4f33-bd08-0385ab0b8a89]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a95c1277-6f9f-4f33-bd08-0385ab0b8a89]: BUSY"}}
[debug] [2021-09-08T20:51:17.452Z] [runtime-status] [22522] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:51:17.464Z] [runtime-status] [22522] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:51:17.471Z] [runtime-status] [22522] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:17.479Z] [runtime-status] [22522] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:17.485Z] [runtime-status] [22522] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:17.502Z] [runtime-status] [22522] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:51:17.507Z] [runtime-status] [22522] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:17.608Z] [runtime-status] [22522] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:51:17.609Z] [runtime-status] [22522] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:51:17.614Z] [runtime-status] [22522] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:17.618Z] [runtime-status] [22522] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:17.621Z] [runtime-status] [22522] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:17.622Z] [runtime-status] [22522] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:51:17.818Z] [runtime-status] [22522] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:51:17.819Z] [runtime-status] [22522] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:51:17.820Z] [runtime-status] [22522] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:51:17.828Z] [runtime-status] [22522] Attempting to listen to socketPath: /tmp/fire_emu_22522.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Attempting to listen to socketPath: /tmp/fire_emu_22522.sock"}}
[debug] [2021-09-08T20:51:17.834Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:51:17.834Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-08T20:51:17.857Z] [runtime-status] [22522] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Ephemeral server handling POST request"}}
[info] >  payment request recieved 0 {"user":"payment request recieved 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 0"}}
[debug] [2021-09-08T20:51:17.883Z] [runtime-status] [22522] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22522] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 20:51:18 GMT', {"user":"      date: 'Wed, 08 Sep 2021 20:51:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 20:51:18 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_lz0lluK7wnRWqq', {"user":"      'request-id': 'req_lz0lluK7wnRWqq',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_lz0lluK7wnRWqq',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_lz0lluK7wnRWqq' {"user":"    requestId: 'req_lz0lluK7wnRWqq'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_lz0lluK7wnRWqq'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 20:51:18 GMT', {"user":"    date: 'Wed, 08 Sep 2021 20:51:18 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 20:51:18 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_lz0lluK7wnRWqq', {"user":"    'request-id': 'req_lz0lluK7wnRWqq',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_lz0lluK7wnRWqq',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_lz0lluK7wnRWqq', {"user":"  requestId: 'req_lz0lluK7wnRWqq',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_lz0lluK7wnRWqq',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T20:51:19.094Z] [worker-us-central1-api-a95c1277-6f9f-4f33-bd08-0385ab0b8a89]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a95c1277-6f9f-4f33-bd08-0385ab0b8a89]: exited"}}
[debug] [2021-09-08T20:51:19.095Z] [worker-us-central1-api-a95c1277-6f9f-4f33-bd08-0385ab0b8a89]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-a95c1277-6f9f-4f33-bd08-0385ab0b8a89]: FINISHED"}}
[debug] [2021-09-08T20:51:19.095Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T20:51:35.321Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T20:51:35.321Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T20:51:35.321Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=54000 --> us-central1-api
[debug] [2021-09-08T20:51:35.321Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T20:51:35.332Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T20:51:35.332Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T20:51:35.332Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T20:51:35.333Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: Assigning socketPath: /tmp/fire_emu_22603.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: Assigning socketPath: /tmp/fire_emu_22603.sock"}}
[debug] [2021-09-08T20:51:35.333Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: BUSY"}}
[debug] [2021-09-08T20:51:35.882Z] [runtime-status] [22603] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T20:51:35.886Z] [runtime-status] [22603] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Disabled runtime features: undefined"}}
[debug] [2021-09-08T20:51:35.890Z] [runtime-status] [22603] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:35.896Z] [runtime-status] [22603] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:35.899Z] [runtime-status] [22603] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:35.903Z] [runtime-status] [22603] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T20:51:35.905Z] [runtime-status] [22603] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:35.967Z] [runtime-status] [22603] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T20:51:35.968Z] [runtime-status] [22603] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T20:51:35.969Z] [runtime-status] [22603] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:35.971Z] [runtime-status] [22603] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:35.972Z] [runtime-status] [22603] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T20:51:35.973Z] [runtime-status] [22603] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T20:51:36.103Z] [runtime-status] [22603] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T20:51:36.105Z] [runtime-status] [22603] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T20:51:36.105Z] [runtime-status] [22603] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T20:51:36.121Z] [runtime-status] [22603] Attempting to listen to socketPath: /tmp/fire_emu_22603.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Attempting to listen to socketPath: /tmp/fire_emu_22603.sock"}}
[debug] [2021-09-08T20:51:36.123Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T20:51:36.123Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=54000, mapping to path=/payments/create?total=54000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=54000, mapping to path=/payments/create?total=54000"}}
[debug] [2021-09-08T20:51:36.157Z] [runtime-status] [22603] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Ephemeral server handling POST request"}}
[info] >  payment request recieved 54000 {"user":"payment request recieved 54000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 54000"}}
[debug] [2021-09-08T20:51:36.191Z] [runtime-status] [22603] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-08T20:51:37.294Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: IDLE"}}
[debug] [2021-09-08T20:51:37.294Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T21:08:34.555Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T21:08:34.555Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T21:08:34.555Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=191900 --> us-central1-api
[debug] [2021-09-08T21:08:34.556Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T21:08:34.556Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: Assigning socketPath: /tmp/fire_emu_22603.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: Assigning socketPath: /tmp/fire_emu_22603.sock"}}
[debug] [2021-09-08T21:08:34.556Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: BUSY"}}
[debug] [2021-09-08T21:08:34.564Z] [runtime-status] [22603] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T21:08:34.565Z] [runtime-status] [22603] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T21:08:34.566Z] [runtime-status] [22603] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T21:08:34.569Z] [runtime-status] [22603] Attempting to listen to socketPath: /tmp/fire_emu_22603.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Attempting to listen to socketPath: /tmp/fire_emu_22603.sock"}}
[debug] [2021-09-08T21:08:34.571Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T21:08:34.571Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=191900, mapping to path=/payments/create?total=191900 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=191900, mapping to path=/payments/create?total=191900"}}
[debug] [2021-09-08T21:08:34.583Z] [runtime-status] [22603] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Ephemeral server handling POST request"}}
[info] >  payment request recieved 191900 {"user":"payment request recieved 191900","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 191900"}}
[debug] [2021-09-08T21:08:34.589Z] [runtime-status] [22603] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~2s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~2s"}}
[debug] [2021-09-08T21:08:36.804Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: IDLE"}}
[debug] [2021-09-08T21:08:36.805Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T21:10:46.120Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T21:10:46.121Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T21:10:46.121Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=659100 --> us-central1-api
[debug] [2021-09-08T21:10:46.121Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T21:10:46.121Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: Assigning socketPath: /tmp/fire_emu_22603.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: Assigning socketPath: /tmp/fire_emu_22603.sock"}}
[debug] [2021-09-08T21:10:46.121Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: BUSY"}}
[debug] [2021-09-08T21:10:46.127Z] [runtime-status] [22603] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T21:10:46.132Z] [runtime-status] [22603] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T21:10:46.132Z] [runtime-status] [22603] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T21:10:46.134Z] [runtime-status] [22603] Attempting to listen to socketPath: /tmp/fire_emu_22603.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Attempting to listen to socketPath: /tmp/fire_emu_22603.sock"}}
[debug] [2021-09-08T21:10:46.136Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T21:10:46.136Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=659100, mapping to path=/payments/create?total=659100 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=659100, mapping to path=/payments/create?total=659100"}}
[debug] [2021-09-08T21:10:46.161Z] [runtime-status] [22603] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Ephemeral server handling POST request"}}
[debug] [2021-09-08T21:10:46.161Z] [runtime-status] [22603] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Ephemeral server survived."}}
[info] >  payment request recieved 659100 {"user":"payment request recieved 659100","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 659100"}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-08T21:10:47.077Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: IDLE"}}
[debug] [2021-09-08T21:10:47.079Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T21:10:55.167Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T21:10:55.168Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T21:10:55.168Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-08T21:10:55.168Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T21:10:55.168Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: Assigning socketPath: /tmp/fire_emu_22603.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: Assigning socketPath: /tmp/fire_emu_22603.sock"}}
[debug] [2021-09-08T21:10:55.169Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: BUSY"}}
[debug] [2021-09-08T21:10:55.169Z] [runtime-status] [22603] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T21:10:55.171Z] [runtime-status] [22603] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T21:10:55.171Z] [runtime-status] [22603] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T21:10:55.171Z] [runtime-status] [22603] Attempting to listen to socketPath: /tmp/fire_emu_22603.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Attempting to listen to socketPath: /tmp/fire_emu_22603.sock"}}
[debug] [2021-09-08T21:10:55.210Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T21:10:55.211Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-08T21:10:55.220Z] [runtime-status] [22603] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Ephemeral server handling POST request"}}
[info] >  payment request recieved 0 {"user":"payment request recieved 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 0"}}
[debug] [2021-09-08T21:10:55.222Z] [runtime-status] [22603] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [22603] Ephemeral server survived."}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 21:10:55 GMT', {"user":"      date: 'Wed, 08 Sep 2021 21:10:55 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 21:10:55 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_O1f4i9p3KyU07i', {"user":"      'request-id': 'req_O1f4i9p3KyU07i',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_O1f4i9p3KyU07i',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_O1f4i9p3KyU07i' {"user":"    requestId: 'req_O1f4i9p3KyU07i'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_O1f4i9p3KyU07i'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 21:10:55 GMT', {"user":"    date: 'Wed, 08 Sep 2021 21:10:55 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 21:10:55 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_O1f4i9p3KyU07i', {"user":"    'request-id': 'req_O1f4i9p3KyU07i',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_O1f4i9p3KyU07i',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_O1f4i9p3KyU07i', {"user":"  requestId: 'req_O1f4i9p3KyU07i',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_O1f4i9p3KyU07i',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T21:10:55.700Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: exited"}}
[debug] [2021-09-08T21:10:55.701Z] [worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d2c642d8-dda4-44e7-8ea6-a867fb4c9f72]: FINISHED"}}
[debug] [2021-09-08T21:10:55.701Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T21:11:32.478Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T21:11:32.479Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T21:11:32.479Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=241400 --> us-central1-api
[debug] [2021-09-08T21:11:32.479Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T21:11:32.489Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T21:11:32.489Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T21:11:32.489Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T21:11:32.490Z] [worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: Assigning socketPath: /tmp/fire_emu_24448.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: Assigning socketPath: /tmp/fire_emu_24448.sock"}}
[debug] [2021-09-08T21:11:32.490Z] [worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: BUSY"}}
[debug] [2021-09-08T21:11:35.555Z] [runtime-status] [24448] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T21:11:35.562Z] [runtime-status] [24448] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Disabled runtime features: undefined"}}
[debug] [2021-09-08T21:11:35.567Z] [runtime-status] [24448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T21:11:35.575Z] [runtime-status] [24448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:11:35.578Z] [runtime-status] [24448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:11:35.581Z] [runtime-status] [24448] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T21:11:35.583Z] [runtime-status] [24448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:11:35.625Z] [runtime-status] [24448] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T21:11:35.626Z] [runtime-status] [24448] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T21:11:35.628Z] [runtime-status] [24448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:11:35.630Z] [runtime-status] [24448] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T21:11:35.631Z] [runtime-status] [24448] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:11:35.631Z] [runtime-status] [24448] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T21:11:35.751Z] [runtime-status] [24448] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T21:11:35.756Z] [runtime-status] [24448] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T21:11:35.756Z] [runtime-status] [24448] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T21:11:35.761Z] [runtime-status] [24448] Attempting to listen to socketPath: /tmp/fire_emu_24448.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Attempting to listen to socketPath: /tmp/fire_emu_24448.sock"}}
[debug] [2021-09-08T21:11:35.769Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T21:11:35.769Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=241400, mapping to path=/payments/create?total=241400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=241400, mapping to path=/payments/create?total=241400"}}
[debug] [2021-09-08T21:11:35.788Z] [runtime-status] [24448] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Ephemeral server handling POST request"}}
[info] >  payment request recieved 241400 {"user":"payment request recieved 241400","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 241400"}}
[debug] [2021-09-08T21:11:35.808Z] [runtime-status] [24448] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-08T21:11:36.837Z] [worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: IDLE"}}
[debug] [2021-09-08T21:11:36.838Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T21:13:20.581Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T21:13:20.582Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T21:13:20.582Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2021-09-08T21:13:20.583Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T21:13:20.583Z] [worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: Assigning socketPath: /tmp/fire_emu_24448.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: Assigning socketPath: /tmp/fire_emu_24448.sock"}}
[debug] [2021-09-08T21:13:20.583Z] [worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: BUSY"}}
[debug] [2021-09-08T21:13:20.598Z] [runtime-status] [24448] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T21:13:20.600Z] [runtime-status] [24448] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T21:13:20.600Z] [runtime-status] [24448] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T21:13:20.604Z] [runtime-status] [24448] Attempting to listen to socketPath: /tmp/fire_emu_24448.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Attempting to listen to socketPath: /tmp/fire_emu_24448.sock"}}
[debug] [2021-09-08T21:13:20.606Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T21:13:20.606Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-09-08T21:13:20.633Z] [runtime-status] [24448] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Ephemeral server handling POST request"}}
[debug] [2021-09-08T21:13:20.634Z] [runtime-status] [24448] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24448] Ephemeral server survived."}}
[info] >  payment request recieved 0 {"user":"payment request recieved 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 0"}}
[info] >  /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40 {"user":"/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m /home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/home/eldad/Documents/buy-tech/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:94:5) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:94:5) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:94:5) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Wed, 08 Sep 2021 21:13:21 GMT', {"user":"      date: 'Wed, 08 Sep 2021 21:13:21 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       date: 'Wed, 08 Sep 2021 21:13:21 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_he36IxYOgqNixL', {"user":"      'request-id': 'req_he36IxYOgqNixL',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_he36IxYOgqNixL',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_he36IxYOgqNixL' {"user":"    requestId: 'req_he36IxYOgqNixL'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_he36IxYOgqNixL'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Wed, 08 Sep 2021 21:13:21 GMT', {"user":"    date: 'Wed, 08 Sep 2021 21:13:21 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     date: 'Wed, 08 Sep 2021 21:13:21 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_he36IxYOgqNixL', {"user":"    'request-id': 'req_he36IxYOgqNixL',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_he36IxYOgqNixL',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_he36IxYOgqNixL', {"user":"  requestId: 'req_he36IxYOgqNixL',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_he36IxYOgqNixL',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-09-08T21:13:21.944Z] [worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: exited"}}
[debug] [2021-09-08T21:13:21.944Z] [worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-3412b26f-6b6c-4f8b-bcac-43bbdda6c4c6]: FINISHED"}}
[debug] [2021-09-08T21:13:21.944Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-09-08T21:16:49.223Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-09-08T21:16:49.224Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-09-08T21:16:49.224Z] Accepted request POST /buy-tech-ac05c/us-central1/api/payments/create?total=107500 --> us-central1-api
[debug] [2021-09-08T21:16:49.224Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2021-09-08T21:16:49.233Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2021-09-08T21:16:49.233Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2021-09-08T21:16:49.234Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2021-09-08T21:16:49.234Z] [worker-us-central1-api-b038fcbf-99e8-4594-b775-3ac829167c2f]: Assigning socketPath: /tmp/fire_emu_24891.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b038fcbf-99e8-4594-b775-3ac829167c2f]: Assigning socketPath: /tmp/fire_emu_24891.sock"}}
[debug] [2021-09-08T21:16:49.234Z] [worker-us-central1-api-b038fcbf-99e8-4594-b775-3ac829167c2f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b038fcbf-99e8-4594-b775-3ac829167c2f]: BUSY"}}
[debug] [2021-09-08T21:16:49.825Z] [runtime-status] [24891] Functions runtime initialized. {"cwd":"/home/eldad/Documents/buy-tech/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Functions runtime initialized. {\"cwd\":\"/home/eldad/Documents/buy-tech/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-09-08T21:16:49.829Z] [runtime-status] [24891] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Disabled runtime features: undefined"}}
[debug] [2021-09-08T21:16:49.834Z] [runtime-status] [24891] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T21:16:49.839Z] [runtime-status] [24891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:16:49.841Z] [runtime-status] [24891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:16:49.845Z] [runtime-status] [24891] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-09-08T21:16:49.847Z] [runtime-status] [24891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:16:49.909Z] [runtime-status] [24891] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-09-08T21:16:49.910Z] [runtime-status] [24891] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-09-08T21:16:49.911Z] [runtime-status] [24891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:16:49.913Z] [runtime-status] [24891] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-09-08T21:16:49.914Z] [runtime-status] [24891] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.15.5","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.15.5\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-09-08T21:16:49.915Z] [runtime-status] [24891] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.11.1","resolution":"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.11.1\",\"resolution\":\"/home/eldad/Documents/buy-tech/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-09-08T21:16:50.044Z] [runtime-status] [24891] Trigger "us-central1-api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Trigger \"us-central1-api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2021-09-08T21:16:50.046Z] [runtime-status] [24891] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api","regions":["us-central1"],"region":"us-central1","id":"us-central1-api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\",\"regions\":[\"us-central1\"],\"region\":\"us-central1\",\"id\":\"us-central1-api\"}"}}
[debug] [2021-09-08T21:16:50.046Z] [runtime-status] [24891] Running us-central1-api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Running us-central1-api in mode HTTPS"}}
[debug] [2021-09-08T21:16:50.053Z] [runtime-status] [24891] Attempting to listen to socketPath: /tmp/fire_emu_24891.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Attempting to listen to socketPath: /tmp/fire_emu_24891.sock"}}
[debug] [2021-09-08T21:16:50.061Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-09-08T21:16:50.061Z] [functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=107500, mapping to path=/payments/create?total=107500 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/buy-tech-ac05c/us-central1/api/payments/create?total=107500, mapping to path=/payments/create?total=107500"}}
[debug] [2021-09-08T21:16:50.075Z] [runtime-status] [24891] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Ephemeral server handling POST request"}}
[info] >  payment request recieved 107500 {"user":"payment request recieved 107500","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"\u001b[90m> \u001b[39m payment request recieved 107500"}}
[debug] [2021-09-08T21:16:50.101Z] [runtime-status] [24891] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"[runtime-status] [24891] Ephemeral server survived."}}
[info] i  functions: Finished "us-central1-api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"message":"Finished \"us-central1-api\" in ~1s"}}
[debug] [2021-09-08T21:16:51.982Z] [worker-us-central1-api-b038fcbf-99e8-4594-b775-3ac829167c2f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-b038fcbf-99e8-4594-b775-3ac829167c2f]: IDLE"}}
[debug] [2021-09-08T21:16:51.983Z] [work-queue] {"queueLength":0,"workRunningCount":0}
